\tikzstyle{action} = [rectangle, draw,
    text width=8em, text centered, fill=gray!20]

\begin{tikzpicture}[line cap=round,line join=round,>=triangle 45,x=1.0cm,y=1.0cm]
    % peers
    \draw (-6.3,6.6) node[anchor=north west] {\textbf{General peer}};
    \draw (-1.7,6.6) node[anchor=north west] {\textbf{Endorsing peers}};
    \draw (3.4,6.6) node[anchor=north west] {\textbf{Ordering peers}};
    \draw [->,line width=1.2pt] (-5.,6.) -- (-5.,-6);
    \draw [->,line width=1.2pt] (-1.,6.) -- (-1.,-6);
    \draw [->,line width=1.2pt] (0.,6.) -- (0.,-6);
    \draw [->,line width=1.2pt] (1.,6.) -- (1.,-6);
    \draw [->,line width=1.2pt] (4.,6.) -- (4,-6);
    \draw [->,line width=1.2pt] (5.,6.) -- (5,-6);
    \draw [->,line width=1.2pt] (6.,6.) -- (6,-6);
    % 1
    \draw (-9.4,5.963656290561282) node[anchor=north west] {1. Transaction request};
    \draw [->,line width=0.8pt,dash pattern=on 2pt off 2pt] (-9.5,5.4) -- (-5.,5.4);
    % 2
    \draw [->,line width=0.8pt,dash pattern=on 2pt off 2pt] (-5.,5.4) -- (0.,4.386938892013284);
    \draw [->,line width=0.8pt,dash pattern=on 2pt off 2pt] (-5.,5.4) -- (-1.,5.);
    \draw (-4.8,5.3) node[anchor=north west, rotate=-17, fill=white] {2. Broadcast transaction proposal};
    \draw [->,line width=0.8pt,dash pattern=on 2pt off 2pt] (-5,5.4) -- (1.,3.5871713661967486);
    % 3
    \draw [->,line width=0.8pt,dash pattern=on 2pt off 2pt] (-1,0.8) -- (-5,0.3);
    \draw [->,line width=0.8pt,dash pattern=on 2pt off 2pt] (0,0.5) -- (-5,-0.1);
    \draw [->,line width=0.8pt,dash pattern=on 2pt off 2pt] (1,0.2) -- (-5,-0.5);
    \node [action] at (0,2.1) {3.1 Validate transaction and run chaincode};
    \draw (-4.8,0.95) node[anchor=north west, rotate=7.5] {3.2 Send responses};
    % 4
    \draw [->,line width=0.8pt,dash pattern=on 2pt off 2pt] (-5,-1.5) -- (5,-2.7);
    \draw (-3,-1.1) node[anchor=north west, rotate=-6.5, fill=white] {4. Send transaction to the orderer};
    % 5
    \node [action] at (5, -3.6) {5.1 Perform ordering service};
    \draw [->,line width=0.8pt,dash pattern=on 2pt off 2pt] (5,-4.4) -- (-5,-5.4);
    \draw (-2.8,-4.5) node[anchor=north west, rotate=6, fill=white] {5.2 Broadcast the updated ledger};
\end{tikzpicture}